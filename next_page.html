<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mocha says hi!</title>
    <!-- Tailwind CSS for easy styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f5eeff; /* Very light lilac background, consistent with index.html */
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 1rem;
            box-sizing: border-box;
            overflow: hidden; /* Hide overflow for heart animations */
        }
        .main-content-wrapper {
            display: flex;
            flex-direction: column; /* Default to column on small screens */
            align-items: center; /* Center items horizontally in column layout */
            gap: 2rem; /* Space between elements */
            background-color: #ffffff;
            padding: 2.5rem;
            border-radius: 1.5rem;
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            max-width: 90%;
            width: 1000px; /* Wider container for content */
            border: 3px solid #d8c8f0; /* Paler lilac border */
            position: relative; /* Ensure it's above hearts */
            z-index: 10; /* Higher z-index than hearts */
        }
        .gif-container {
            flex: 1; /* Allows GIFs to take available space */
            display: flex;
            justify-content: center; /* Center GIF horizontally within its container */
            align-items: center; /* Center GIF vertically within its container */
        }
        .gif-image {
            width: 100%;
            max-width: 250px; /* Max width for each GIF */
            height: auto;
            border-radius: 1rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }
        .text-middle {
            flex: 2; /* Allows text to take more space in the middle */
            text-align: center; /* Centered text */
            color: #a878ed; /* Paler blue-violet for paragraph */
            font-size: 0.95rem; /* Much smaller font size */
            line-height: 1.6;
            padding: 0 1rem; /* Add some horizontal padding */
        }
        .text-middle p {
            margin-bottom: 1.5rem; /* More space between paragraphs */
        }
        .text-middle p:last-child {
            margin-bottom: 0; /* No extra margin for the last paragraph */
        }

        /* Button Container Styles */
        .button-container {
            display: flex;
            gap: 1.5rem; /* Space between buttons */
            margin-top: 2rem; /* Space from the content box */
            position: relative; /* Ensure it's above hearts */
            z-index: 10; /* Higher z-index than hearts */
        }

        /* Button Styles (reused for both) */
        .page-button {
            background-color: #a878ed; /* Matching purple */
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 9999px; /* Fully rounded */
            text-decoration: none;
            font-weight: 700;
            font-size: 1.125rem;
            transition: background-color 0.3s ease, transform 0.2s ease;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            display: inline-block;
        }
        .page-button:hover {
            background-color: #8a2be2; /* Slightly darker on hover */
            transform: translateY(-2px);
        }

        /* Heart animation styles (copied from index.html) */
        .heart-animation {
            position: fixed; /* Fixed position relative to viewport */
            background-color: #e8dcf5; /* Very pale lilac heart */
            z-index: -1; /* Place hearts behind other content */
        }
        .heart-animation::before,
        .heart-animation::after {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            background-color: #e8dcf5; /* Very pale lilac heart */
            border-radius: 50%;
        }
        .heart-animation::before {
            top: -50%;
            left: 0;
        }
        .heart-animation::after {
            top: 0;
            left: 50%;
        }

        /* Generic heart animation using CSS variables for dynamic translation */
        @keyframes floatHeart {
            0% {
                transform: rotate(-45deg) scale(0.5); /* Initial rotation and scale */
                opacity: 0;
            }
            50% {
                opacity: 1;
            }
            100% {
                transform: translate(var(--translate-x), var(--translate-y)) rotate(-45deg) scale(1.2); /* Move and scale */
                opacity: 0;
            }
        }

        /* Responsive adjustments */
        @media (min-width: 768px) {
            .main-content-wrapper {
                flex-direction: row; /* Row layout on larger screens */
                align-items: center; /* Vertically center items in row layout */
            }
            .text-middle {
                text-align: center; /* Keep text centered even in row layout */
                font-size: 0.95rem; /* Consistent smaller font size */
            }
        }
        @media (max-width: 767px) {
            .text-middle {
                font-size: 0.85rem; /* Smaller on mobile */
            }
            .button-container {
                flex-direction: column; /* Stack buttons vertically on small screens */
                gap: 1rem; /* Adjust gap for vertical stacking */
            }
        }
        @media (max-width: 480px) {
            .text-middle {
                font-size: 0.75rem; /* Even smaller on very small screens */
            }
            .main-content-wrapper {
                padding: 1.5rem;
            }
            .page-button {
                width: 100%; /* Make buttons full width on very small screens */
            }
        }
    </style>
</head>
<body>
    <!-- Audio tag for background music -->
    <!-- The 'src' attribute now points to your uploaded MP3 file -->
    <audio autoplay loop>
        <source src="mp3_conga.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>

    <div class="main-content-wrapper">
        <div class="gif-container">
            <img src="gif_mocha_dance.gif" alt="Mocha Dancing GIF" class="gif-image" onerror="this.onerror=null;this.src='https://placehold.co/250x250/d8c8f0/8a2be2?text=Mocha+Dance+GIF'">
        </div>

        <div class="text-middle">
            <p>Hey there, Mimi! <strong>Mocha Bear</strong> here! Milky told me you were stopping by today! How's Honolulu? We should go to Koko Head together someday! And eat chow fun from Panda Express! And oh, oh, poke from Foodland too!</p>
            <p>Oh, what's that Milk? Am I getting too distracted? Sorry about that...ahem. Let's start over.</p>
            <p>Hey there, Mimi! <strong>Mocha Bear</strong> here. We brought you here today because we need YOUR help! Jesse left us a treasure to solve, but we are a bit stuck. Since you're his girlfriend, we thought, you know, maybe you'd be able to help us out...Anyways, come give it a try!</p>
            <p>Click on the button below when you're ready!</p>
        </div>

        <div class="gif-container">
            <img src="gif_milk_love.gif" alt="Milk Bear Love GIF" class="gif-image" onerror="this.onerror=null;this.src='https://placehold.co/250x250/d8c8f0/8a2be2?text=Milk+Love+GIF'">
        </div>
    </div>

    <div class="button-container">
        <a href="index.html" class="page-button">Back</a>
        <a href="puzzlehome.html" class="page-button">Next</a>
    </div>

    <script>
        // Function to create and animate a heart (copied from index.html)
        function createHeart() {
            const heart = document.createElement('div');
            heart.classList.add('heart-animation');
            document.body.appendChild(heart);

            // Random size for variety
            const size = Math.random() * 40 + 20; // Hearts between 20px and 60px
            heart.style.width = `${size}px`;
            heart.style.height = `${size}px`;

            const viewportWidth = window.innerWidth;
            const viewportHeight = window.innerHeight;
            const buffer = 50; // How far outside the screen to start/end

            // Randomly choose an entry side (0: top, 1: right, 2: bottom, 3: left)
            const entrySide = Math.floor(Math.random() * 4);

            let translateX = 0;
            let translateY = 0;

            switch (entrySide) {
                case 0: // From Top
                    heart.style.left = `${Math.random() * viewportWidth}px`;
                    heart.style.top = `${-size - buffer}px`; // Start above the viewport
                    translateY = viewportHeight + size + buffer; // Move down past the bottom
                    break;
                case 1: // From Right
                    heart.style.top = `${Math.random() * viewportHeight}px`;
                    heart.style.left = `${viewportWidth + buffer}px`; // Start right of the viewport
                    translateX = -(viewportWidth + size + buffer); // Move left past the left edge
                    break;
                case 2: // From Bottom
                    heart.style.top = `${viewportHeight + buffer}px`; // Start below the viewport
                    heart.style.left = `${Math.random() * viewportWidth}px`;
                    translateY = -(viewportHeight + size + buffer); // Move up past the top
                    break;
                case 3: // From Left
                    heart.style.top = `${Math.random() * viewportHeight}px`;
                    heart.style.left = `${-size - buffer}px`; // Start left of the viewport
                    translateX = viewportWidth + size + buffer; // Move right past the right edge
                    break;
            }

            // Set CSS variables for the animation
            heart.style.setProperty('--translate-x', `${translateX}px`);
            heart.style.setProperty('--translate-y', `${translateY}px`);

            // Apply the general heart animation
            heart.style.animationName = 'floatHeart';
            heart.style.animationDuration = `${Math.random() * 4 + 4}s`; // Random duration
            heart.style.animationDelay = `${Math.random() * 2}s`; // Random delay
            heart.style.animationFillMode = 'forwards'; // Keep the heart at its final state (hidden)

            // Remove heart after animation to prevent memory leak
            heart.addEventListener('animationend', () => {
                heart.remove();
            });
        }

        // Create hearts at intervals
        setInterval(createHeart, 500); // Create a new heart every 500ms
    </script>
</body>
</html>
